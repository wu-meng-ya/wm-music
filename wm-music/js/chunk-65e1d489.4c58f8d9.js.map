{"version":3,"sources":["webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./src/views/Search.vue?decd","webpack:///./src/components/HotSearch.vue?e1ca","webpack:///src/components/HotSearch.vue","webpack:///./src/components/HotSearch.vue?764e","webpack:///./src/components/HotSearch.vue","webpack:///./src/components/SearchSuggest.vue?9d4f","webpack:///src/components/SearchSuggest.vue","webpack:///./src/components/SearchSuggest.vue?5410","webpack:///./src/components/SearchSuggest.vue","webpack:///./src/components/SearchResult.vue?5fb2","webpack:///src/components/SearchResult.vue","webpack:///./src/components/SearchResult.vue?fc31","webpack:///./src/components/SearchResult.vue","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?536d","webpack:///./src/views/Search.vue","webpack:///./src/components/SearchResult.vue?2e7d","webpack:///./src/views/Search.vue?8393","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./src/components/HotSearch.vue?c914","webpack:///./src/components/SearchSuggest.vue?46ab"],"names":["module","exports","Object","is","x","y","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","change","keywords","directives","name","rawName","value","expression","attrs","domProps","target","composing","inputing","close","search","tag","history","length","_l","item","index","key","_v","_s","deleteHistory","_e","staticRenderFns","hot","$emit","first","component","suggestList","v","id","song","momore","fixRegExpWellKnownSymbolLogic","anObject","requireObjectCoercible","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","searcher","undefined","call","RegExp","String","res","done","rx","S","previousLastIndex","lastIndex","result"],"mappings":"mGAEAA,EAAOC,QAAUC,OAAOC,IAAM,SAAYC,EAAGC,GAE3C,OAAOD,IAAMC,EAAU,IAAND,GAAW,EAAIA,IAAM,EAAIC,EAAID,GAAKA,GAAKC,GAAKA,I,2CCJ/D,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,OAAO,CAACG,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBT,EAAIU,OAAOV,EAAIW,aAAa,CAACP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,KAAKA,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAY,SAAEgB,WAAW,aAAaC,MAAM,CAAC,KAAO,OAAO,YAAc,eAAeC,SAAS,CAAC,MAASlB,EAAY,UAAGO,GAAG,CAAC,MAAQ,CAAC,SAASC,GAAWA,EAAOW,OAAOC,YAAqBpB,EAAIW,SAASH,EAAOW,OAAOJ,QAAO,SAASP,GAAQR,EAAIqB,UAAS,OAAUjB,EAAG,OAAO,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAU,OAAEgB,WAAW,WAAWV,YAAY,QAAQC,GAAG,CAAC,MAAQP,EAAIsB,QAAQ,CAAClB,EAAG,aAAaA,EAAGJ,EAAIuB,OAAO,CAACC,IAAI,YAAYP,MAAM,CAAC,SAAWjB,EAAIW,UAAUJ,GAAG,CAAC,OAASP,EAAIU,UAAuB,aAAZV,EAAIuB,OAAqBnB,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAAEN,EAAIyB,QAAQC,OAAO,EAAGtB,EAAG,KAAKJ,EAAI2B,GAAI3B,EAAW,SAAE,SAAS4B,EAAKC,GAAO,OAAOzB,EAAG,KAAK,CAAC0B,IAAID,GAAO,CAACzB,EAAG,KAAKA,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,YAAYC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIU,OAAOkB,MAAS,CAAC5B,EAAI+B,GAAG/B,EAAIgC,GAAGJ,MAASxB,EAAG,OAAO,CAACE,YAAY,8BAA8BC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIiC,cAAcL,cAAgB,GAAG5B,EAAIkC,OAAOlC,EAAIkC,MAAM,IACxyCC,EAAkB,GCDlB,G,wCAAS,WAAa,IAAInC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACJ,EAAI+B,GAAG,UAAU3B,EAAG,KAAKJ,EAAI2B,GAAI3B,EAAa,WAAE,SAASoC,EAAIP,GAAO,OAAOzB,EAAG,KAAK,CAAC0B,IAAID,EAAMtB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIqC,MAAM,SAASD,EAAIE,UAAU,CAACtC,EAAI+B,GAAG,IAAI/B,EAAIgC,GAAGI,EAAIE,OAAO,UAAS,SAC3V,EAAkB,GCiBtB,GACE,KAAF,YACE,KAFF,WAGI,MAAJ,CACM,UAAN,KAGE,QAPF,WAOI,IAAJ,OAEI,KAAJ,4CACM,EAAN,kCC5BmV,I,wBCQ/UC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACN,EAAI+B,GAAG,OAAQ/B,EAAIgC,GAAGhC,EAAIW,UAAU,OAAQP,EAAG,KAAK,CAAEJ,EAAIwC,YAAmB,QAAExC,EAAI2B,GAAI3B,EAAIwC,YAAmB,SAAE,SAASC,GAAG,OAAOrC,EAAG,KAAK,CAAC0B,IAAIW,EAAEC,GAAGnC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIqC,MAAM,SAASI,EAAE5B,SAAS,CAACT,EAAG,KAAKA,EAAG,OAAO,CAACJ,EAAI+B,GAAG/B,EAAIgC,GAAGS,EAAE5B,cAAab,EAAIkC,KAAMlC,EAAIwC,YAAkB,OAAExC,EAAI2B,GAAI3B,EAAIwC,YAAkB,QAAE,SAASC,GAAG,OAAOrC,EAAG,KAAK,CAAC0B,IAAIW,EAAEC,GAAGnC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIqC,MAAM,SAASI,EAAE5B,SAAS,CAACT,EAAG,KAAKA,EAAG,OAAO,CAACJ,EAAI+B,GAAG/B,EAAIgC,GAAGS,EAAE5B,cAAab,EAAIkC,KAAMlC,EAAIwC,YAAiB,MAAExC,EAAI2B,GAAI3B,EAAIwC,YAAiB,OAAE,SAASC,GAAG,OAAOrC,EAAG,KAAK,CAAC0B,IAAIW,EAAEC,GAAGnC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIqC,MAAM,SAASI,EAAE5B,SAAS,CAACT,EAAG,KAAKA,EAAG,OAAO,CAACJ,EAAI+B,GAAG/B,EAAIgC,GAAGS,EAAE5B,cAAab,EAAIkC,MAAM,MACn2B,EAAkB,GC6BtB,GACE,KAAF,gBACE,MAAF,aACE,KAHF,WAII,MAAJ,CACM,YAAN,KAGE,QARF,WASI,KAAJ,4BAEE,MAAF,CACI,SADJ,SACA,GACM,KAAN,iBAGE,QAAF,CACI,YADJ,SACA,GAAM,IAAN,OACM,KAAN,sGACQ,QAAR,OAEQ,IAAR,gBACQ,EAAR,oBCpDuV,ICQnV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIlC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAI+B,GAAG,QAAQ/B,EAAIgC,GAAGhC,EAAIW,aAAaP,EAAG,KAAKJ,EAAI2B,GAAI3B,EAAU,QAAE,SAAS2C,EAAKd,GAAO,OAAOzB,EAAG,KAAK,CAAC0B,IAAID,GAAO,CAACzB,EAAG,WAAW,CAACa,MAAM,CAAC,KAAO0B,EAAK,SAAW3C,EAAIW,aAAa,MAAK,GAAIX,EAAe,YAAEI,EAAG,WAAWJ,EAAIkC,KAAK9B,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAI+B,GAAG/B,EAAIgC,GAAGhC,EAAI4C,OAAS,QAAU,eAAe,IAC9d,EAAkB,G,oCCgBtB,GACE,KAAF,eACE,MAAF,aACE,KAHF,WAII,MAAJ,CACM,OAAN,GACM,KAAN,EACM,aAAN,EACM,QAAN,IAGE,QAXF,WAYI,KAAJ,aACI,OAAJ,8CAEE,WAAF,CACI,SAAJ,OACI,QAAJ,QAEE,QAAF,CACI,WADJ,WACM,IAAN,OAIA,mBACM,KAAN,8GACQ,EAAR,4CACQ,EAAR,mBAII,aAZJ,WAcM,IAAN,kFACM,GAAN,gFAEQ,GADA,KAAR,OACA,aAGU,OADA,KAAV,WACA,EAEU,KAAV,aACU,KAAV,iBAII,UA3BJ,WA4BM,OAAN,sDChEsV,ICQlV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCUf,GACE,KAAF,YACE,KAFF,WAGI,MAAJ,CACM,OAAN,YACM,SAAN,GACM,UAAN,EACM,QAAN,EACM,QAAN,KAGE,QAXF,aAYE,QAAF,CAEI,OAFJ,SAEA,GAOM,GALA,KAAN,WACM,KAAN,YACM,KAAN,sBAGA,uBACQ,IAAR,2BACA,MACU,KAAV,oBAEQ,KAAR,iCAEQ,KAAR,4BAEM,OAAN,mDACM,KAAN,cAEI,MArBJ,WAsBM,KAAN,aAEI,WAxBJ,WAyBA,+CACQ,KAAR,kEAGI,cA7BJ,SA6BA,GACM,IAAN,0BACM,KAAN,oBACM,OAAN,mDACM,KAAN,eAGE,MAAF,CACI,SADJ,SACA,GACA,OACQ,KAAR,mBACQ,KAAR,WACA,eACQ,KAAR,uBACQ,KAAR,WAEQ,KAAR,YAIE,WAAF,CACI,UAAJ,EACI,cAAJ,EACI,aAAJ,IC7FgV,ICQ5U,G,UAAY,eACd,EACA7C,EACAoC,GACA,EACA,KACA,WACA,OAIa,e,2CCnBf,W,kCCAA,W,6DCCA,IAAIU,EAAgC,EAAQ,QACxCC,EAAW,EAAQ,QACnBC,EAAyB,EAAQ,QACjCC,EAAY,EAAQ,QACpBC,EAAa,EAAQ,QAGzBJ,EAA8B,SAAU,GAAG,SAAUK,EAAQC,EAAcC,GACzE,MAAO,CAGL,SAAgBC,GACd,IAAIC,EAAIP,EAAuB9C,MAC3BsD,OAAqBC,GAAVH,OAAsBG,EAAYH,EAAOH,GACxD,YAAoBM,IAAbD,EAAyBA,EAASE,KAAKJ,EAAQC,GAAK,IAAII,OAAOL,GAAQH,GAAQS,OAAOL,KAI/F,SAAUD,GACR,IAAIO,EAAMR,EAAgBD,EAAcE,EAAQpD,MAChD,GAAI2D,EAAIC,KAAM,OAAOD,EAAI7C,MAEzB,IAAI+C,EAAKhB,EAASO,GACdU,EAAIJ,OAAO1D,MAEX+D,EAAoBF,EAAGG,UACtBjB,EAAUgB,EAAmB,KAAIF,EAAGG,UAAY,GACrD,IAAIC,EAASjB,EAAWa,EAAIC,GAE5B,OADKf,EAAUc,EAAGG,UAAWD,KAAoBF,EAAGG,UAAYD,GAC9C,OAAXE,GAAmB,EAAIA,EAAOrC,Y,gFC9B3C,W,kCCAA,W","file":"js/chunk-65e1d489.4c58f8d9.js","sourcesContent":["// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.change(_vm.keywords)}}},[_c('div',{staticClass:\"biginput\"},[_c('div',{staticClass:\"input\"},[_c('i'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keywords),expression:\"keywords\"}],attrs:{\"type\":\"text\",\"placeholder\":\"搜索歌曲，歌手， 专辑\"},domProps:{\"value\":(_vm.keywords)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.keywords=$event.target.value},function($event){_vm.inputing=true}]}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isshow),expression:\"isshow\"}],staticClass:\"close\",on:{\"click\":_vm.close}},[_c('i')])])])]),_c(_vm.search,{tag:\"component\",attrs:{\"keywords\":_vm.keywords},on:{\"change\":_vm.change}}),(_vm.search=='HotSearch')?_c('div',{staticClass:\"searchHistory\"},[(_vm.history.length>0)?_c('ul',_vm._l((_vm.history),function(item,index){return _c('li',{key:index},[_c('i'),_c('div',[_c('span',{staticClass:\"musicName\",on:{\"click\":function($event){return _vm.change(item)}}},[_vm._v(_vm._s(item))]),_c('span',{staticClass:\"delete iconfont icon-guanbi\",on:{\"click\":function($event){return _vm.deleteHistory(item)}}})])])}),0):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{staticClass:\"hotSearch\"},[_c('p',[_vm._v(\"热门搜索\")]),_c('ul',_vm._l((_vm.hotSearch),function(hot,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.$emit('change',hot.first)}}},[_vm._v(\" \"+_vm._s(hot.first)+\" \")])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <!-- 热门搜索 -->\r\n    <div>\r\n        <ul class=\"hotSearch\">\r\n            <p>热门搜索</p>\r\n            <ul>\r\n            <li v-for=\"(hot,index) in hotSearch\"\r\n                @click=\"$emit('change',hot.first)\" \r\n                :key=\"index\">\r\n                {{hot.first}}\r\n            </li>\r\n            </ul>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name:\"HotSearch\",\r\n    data(){\r\n        return{\r\n            hotSearch:[]\r\n        }\r\n    },\r\n    created(){\r\n        //获取热搜列表\r\n        this.$axios.get('/search/hot').then(data=>{\r\n            this.hotSearch=data.data.result.hots;\r\n        });\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n.hotSearch{\r\n    padding: 15px 10px 0;\r\n    p{\r\n        margin: 10px 5px;\r\n        font-size: 8px;\r\n        color: #666;\r\n    }\r\n    ul{\r\n        margin: 10px 0 7px;\r\n        li{\r\n            display: inline-block;\r\n            height: 32px;\r\n            margin-right: 6px;\r\n            margin-bottom: 6px;\r\n            padding: 0 14px;\r\n            font-size: 14px;\r\n            line-height: 32px;\r\n            color: #333;\r\n            border: 1px solid#d3d4da;\r\n            border-radius: 32px;\r\n        }\r\n    }\r\n    \r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HotSearch.vue?vue&type=template&id=ee4c04e2&scoped=true&\"\nimport script from \"./HotSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./HotSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HotSearch.vue?vue&type=style&index=0&id=ee4c04e2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ee4c04e2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"suggest\"},[_c('div',{staticClass:\"search\"},[_vm._v(\"搜索:\\\"\"+_vm._s(_vm.keywords)+\"\\\"\")]),_c('ul',[(_vm.suggestList.artists)?_vm._l((_vm.suggestList.artists),function(v){return _c('li',{key:v.id,on:{\"click\":function($event){return _vm.$emit('change',v.name)}}},[_c('i'),_c('span',[_vm._v(_vm._s(v.name))])])}):_vm._e(),(_vm.suggestList.albums)?_vm._l((_vm.suggestList.albums),function(v){return _c('li',{key:v.id,on:{\"click\":function($event){return _vm.$emit('change',v.name)}}},[_c('i'),_c('span',[_vm._v(_vm._s(v.name))])])}):_vm._e(),(_vm.suggestList.songs)?_vm._l((_vm.suggestList.songs),function(v){return _c('li',{key:v.id,on:{\"click\":function($event){return _vm.$emit('change',v.name)}}},[_c('i'),_c('span',[_vm._v(_vm._s(v.name))])])}):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"suggest\">\r\n        <div class=\"search\">搜索:\"{{keywords}}\"</div>\r\n        <ul>\r\n            <template v-if=\"suggestList.artists\">\r\n                <li v-for=\"(v) in suggestList.artists\" :key=\"v.id\"\r\n                @click=\"$emit('change',v.name)\">\r\n                <i></i>\r\n                <span>{{v.name}}</span>\r\n                </li>\r\n            </template>\r\n            <template v-if=\"suggestList.albums\">\r\n                <li v-for=\"(v) in suggestList.albums\" :key=\"v.id\"\r\n                @click=\"$emit('change',v.name)\">\r\n                <i></i>\r\n                 <span>{{v.name}}</span>\r\n                </li>\r\n            </template>\r\n            <template v-if=\"suggestList.songs\">\r\n                <li v-for=\"(v) in suggestList.songs\" :key=\"v.id\"\r\n                @click=\"$emit('change',v.name)\">\r\n                <i></i>\r\n                <span>{{v.name}}</span>\r\n                </li>\r\n            </template>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"SearchSuggest\",\r\n    props:['keywords'],\r\n    data(){\r\n        return{\r\n            suggestList:{}\r\n        }\r\n    },\r\n    created(){\r\n        this.loadSuggest(this.keywords);\r\n    },\r\n    watch:{\r\n        keywords(val){\r\n           this.loadSuggest(val);\r\n        }\r\n    },\r\n    methods:{\r\n        loadSuggest(val){\r\n            this.$axios.get('http://musicapi.leanapp.cn/search/suggest?keywords= '+val+'&type=mobile').then((data)=>{\r\n                console.log(data)\r\n                //this.suggestList=[];//清空原数组\r\n                let result = data.data.result;\r\n                this.suggestList=result;\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.suggest{\r\n    display: flex;\r\n    flex-direction: column;\r\n    .search{\r\n        height: 50px;\r\n        margin-left: 10px;\r\n        padding-right: 10px;\r\n        font-size: 15px;\r\n        line-height: 50px;\r\n        color: #507daf;\r\n        border-bottom: 1px solid #ccc;\r\n    }\r\n    ul{\r\n        padding-left: 10px;\r\n        li{\r\n            display: flex;\r\n            align-items: center;\r\n            height: 45px;\r\n            padding-left: 10px;\r\n            border-bottom: 1px solid #ccc;\r\n            i{\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n                margin-right: 10px;\r\n                background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==);\r\n                background-repeat: no-repeat;\r\n            }\r\n            span{\r\n                display: inline-block;\r\n                flex: 1;\r\n                width: 1%;\r\n                padding-right: 10px;\r\n                font-size: 15px;\r\n                color: #333;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchSuggest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchSuggest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchSuggest.vue?vue&type=template&id=c971fc6a&scoped=true&\"\nimport script from \"./SearchSuggest.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchSuggest.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchSuggest.vue?vue&type=style&index=0&id=c971fc6a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c971fc6a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"result\"},[_c('div',{staticClass:\"resultnow\"},[_vm._v(\"搜索结果:\"+_vm._s(_vm.keywords))]),_c('ul',_vm._l((_vm.result),function(song,index){return _c('li',{key:index},[_c('SongItem',{attrs:{\"item\":song,\"keywords\":_vm.keywords}})],1)}),0),(_vm.showLoading)?_c('Loading'):_vm._e(),_c('div',{staticClass:\"loadingmore\"},[_vm._v(_vm._s(_vm.momore ? \"没有更多了\" : \"正在加载...\"))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"result\">\r\n        <div class=\"resultnow\">搜索结果:{{keywords}}</div>\r\n        <!-- 最佳匹配 -->\r\n        <ul>\r\n            <li v-for=\"(song,index) in result\" :key=\"index\">\r\n                <SongItem :item=\"song\" :keywords=\"keywords\"></SongItem>\r\n            </li>\r\n        </ul>\r\n        <Loading v-if=\"showLoading\"></Loading>\r\n        <div class=\"loadingmore\">{{ momore ? \"没有更多了\" : \"正在加载...\" }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from '@/components/Loading'\r\nimport SongItem from '@/components/SongItem'\r\nexport default {\r\n    name:\"SearchResult\",\r\n    props:['keywords'],\r\n    data(){\r\n        return{\r\n            result:[],\r\n            page:1,\r\n            showLoading:true, //是否显示\r\n            momore:false\r\n        }\r\n    },\r\n    created(){\r\n        this.loadSearch();\r\n        window.addEventListener(\"scroll\",this.handleScroll);\r\n    },\r\n    components:{\r\n        SongItem,\r\n        Loading\r\n    },\r\n    methods:{\r\n        loadSearch(){\r\n            //?keywords=海阔天空&limit=30&offset=60\r\n            //limit 每页显示多少条offset 偏移凉(page-1)*30\r\n            //根据关键字获取搜索结果\r\n            let offset=(this.page-1)*30;\r\n            this.$axios.get('http://musicapi.leanapp.cn/search?keywords='+this.keywords+'&type=1&offset='+offset).then(data=>{\r\n                this.result= this.result.concat(data.data.result.songs);\r\n                this.showLoading=false;\r\n            });\r\n        },\r\n\r\n        handleScroll () { //滚动事件监听处理\r\n            //是否滚动到底部的判断\r\n            let scrolltop = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;\r\n            if (scrolltop + document.documentElement.clientHeight == document.documentElement.scrollHeight) {\r\n                this.page ++;\r\n                if (this.page>10) {\r\n                    //如果大于总页数停止请求数据\r\n                    this.momore = true;\r\n                    return false;\r\n                } else {\r\n                    this.loadSearch();\r\n                    this.showLoading = true;\r\n                }\r\n            }\r\n        },\r\n        destoryed(){\r\n            window.removeEventListener(\"scroll\",this.handleScroll,false)\r\n        },\r\n        // loadMore(){\r\n        //     this.page++;\r\n        //     this.showLoading=true;\r\n        //     this.loadSearch();\r\n        // }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.result{\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding-top: 10px;\r\n    .resultnow{\r\n        margin-left: 10px;\r\n        font-size: 12px;\r\n        line-height: 16px;\r\n        color: #666;\r\n    }\r\n    ul{\r\n        list-style: none;\r\n        overflow: hidden;\r\n        padding: 0px 10px;\r\n    }\r\n    .loadingmore{\r\n        color: #d43c33;\r\n        text-align: center;\r\n    }\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResult.vue?vue&type=template&id=3c92df78&scoped=true&\"\nimport script from \"./SearchResult.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResult.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchResult.vue?vue&type=style&index=0&id=3c92df78&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c92df78\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <!-- 搜索 -->\r\n    <div class=\"search\">\r\n        \r\n        <!-- 表单事件submit提交 -->\r\n        <form @submit.prevent=\"change(keywords)\">\r\n            <div class=\"biginput\">\r\n            <div class=\"input\">\r\n                <i></i>\r\n                <input type=\"text\" v-model=\"keywords\" placeholder=\"搜索歌曲，歌手， 专辑\"\r\n                @input=\"inputing=true\" />\r\n                <span class=\"close\" v-show=\"isshow\" @click=\"close\"><i></i></span>\r\n            </div>\r\n            \r\n            </div>\r\n        </form>\r\n        <component :is=\"search\" :keywords=\"keywords\" @change=\"change\"></component>\r\n        <!-- 历史记录 -->\r\n        <div class=\"searchHistory\" v-if=\"search=='HotSearch'\">\r\n            <ul v-if=\"history.length>0\">\r\n                <li v-for=\"(item,index) in history\" :key=\"index\"><i></i><div><span class=\"musicName\" @click=\"change(item)\">{{item}}</span><span class=\"delete iconfont icon-guanbi\" @click=\"deleteHistory(item)\"></span></div></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport HotSearch from '@/components/HotSearch'\r\nimport SearchSuggest from '@/components/SearchSuggest'\r\nimport SearchResult from '@/components/SearchResult'\r\nexport default {\r\n    name:\"Recommend\",\r\n    data(){\r\n        return{\r\n            search:\"HotSearch\",\r\n            keywords:'',\r\n            inputing:false,  //标记文本框是否是输入还是点击\r\n            isshow:false,\r\n            history: [],\r\n        }\r\n    },\r\n    created(){},\r\n    methods:{\r\n        //点击搜索结果\r\n        change(val){\r\n            //记录历史 LocalStaorage.set() //json \r\n            this.keywords=val;\r\n            this.inputing=false;\r\n            this.search=\"SearchResult\";\r\n\r\n            // 搜索记录\r\n            if(this.history.length>0){\r\n                let index = this.history.indexOf(val);\r\n                if(index != -1){\r\n                    this.history.splice(index,1);\r\n                }\r\n                this.history.push(this.keywords);\r\n            }else{\r\n                this.history.push(this.keywords);\r\n            }\r\n            window.localStorage.setItem('searchHistory',this.history);\r\n            this.getHistory();\r\n        },\r\n        close(){\r\n            this.keywords = '';\r\n        },\r\n        getHistory(){\r\n            if(window.localStorage.getItem('searchHistory')){\r\n                this.history =  window.localStorage.getItem('searchHistory').split(',');\r\n            }\r\n        },\r\n        deleteHistory(item){\r\n            let index = this.history.indexOf(item);\r\n            this.history.splice(index,1);\r\n            window.localStorage.setItem('searchHistory',this.history);\r\n            this.getHistory();\r\n        }\r\n    },\r\n    watch:{\r\n        keywords(val){\r\n            if(val==\"\"){\r\n                this.search=\"HotSearch\"\r\n                this.isshow=false;\r\n            }else if(this.inputing){\r\n                this.search=\"SearchSuggest\";\r\n                this.isshow=true;\r\n            }else{\r\n                this.isshow=true;\r\n            }\r\n        }\r\n    },\r\n    components:{\r\n        HotSearch,\r\n        SearchSuggest,\r\n        SearchResult\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search{\r\n    width: 100vw;\r\n    height: 100vh;\r\n    margin-top: 10px;\r\n    .biginput{\r\n        width: 100%;\r\n        height: 50px;\r\n        border-bottom: 1px solid #ccc;\r\n        margin-top: 18px;\r\n        padding: 5px 10px;\r\n        .input{\r\n            position: relative;\r\n            width: 100%;\r\n            height: 30px;\r\n            padding: 0 30px;\r\n            display: flex;\r\n            box-sizing: border-box;\r\n            background: #ebecec;\r\n            border-radius: 30px;\r\n            align-items: center;\r\n            i{\r\n                display: inline-block;\r\n                width: 13px;\r\n                height: 13px;\r\n                background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==);\r\n            }\r\n            input{\r\n                flex: 1;\r\n                background-color: transparent;\r\n                outline: none;\r\n                border: none;\r\n            }\r\n        }\r\n        .close{\r\n            position: absolute;\r\n            right: 0;\r\n            top: 0;\r\n            width: 30px;\r\n            height: 30px;\r\n            line-height: 28px;\r\n            text-align: center;\r\n            i{\r\n                display: inline-block;\r\n                vertical-align: middle;\r\n                width: 14px;\r\n                height: 14px;\r\n                background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCI+PGcgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjYmNiZGJkIiBkPSJNMTQgMGM3LjczMiAwIDE0IDYuMjY4IDE0IDE0cy02LjI2OCAxNC0xNCAxNFMwIDIxLjczMiAwIDE0IDYuMjY4IDAgMTQgMHoiLz48cGF0aCBkPSJNMTkgOUw5IDE5TTkgOWwxMCAxMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZWJlY2ViIiBzdHJva2Utd2lkdGg9IjIuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIi8+PC9nPjwvc3ZnPg==) no-repeat 0 0;\r\n                background-size: contain;\r\n            }\r\n        }\r\n    }\r\n    .searchHistory{\r\n    margin-top: 20px;\r\n    width: 100vw;\r\n    height: 45px;\r\n    ul{\r\n        li{\r\n            display: flex;\r\n            align-items: center;\r\n            width: 100vw;\r\n            height: 45px;\r\n            line-height: 45px;\r\n            i{\r\n                display: inline-block;\r\n                margin: 0px 10px;\r\n                width: 15px;\r\n                height: 15px;\r\n                background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMCAzMCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljYWNhIiBkPSJNMTUgMzBDNi43MTYgMzAgMCAyMy4yODQgMCAxNVM2LjcxNiAwIDE1IDBzMTUgNi43MTYgMTUgMTUtNi43MTYgMTUtMTUgMTVtMC0yOEM3LjgyIDIgMiA3LjgyIDIgMTVzNS44MiAxMyAxMyAxMyAxMy01LjgyIDEzLTEzUzIyLjE4IDIgMTUgMm03IDE2aC04YTEgMSAwIDAgMS0xLTFWN2ExIDEgMCAxIDEgMiAwdjloN2ExIDEgMCAxIDEgMCAyIi8+PC9zdmc+);\r\n            }\r\n            div{\r\n                flex: 1;\r\n                border-bottom: 1px solid rgba(0,0,0,.1);\r\n                .musicName{\r\n                    float: left;\r\n                    width: 90%;\r\n                    display: -webkit-box;\r\n                    -webkit-line-clamp: 1;\r\n                    -webkit-box-orient: vertical;\r\n                    overflow: hidden;\r\n                }\r\n                .delete{\r\n                    width: 10%;\r\n                    float: right;\r\n                    cursor: pointer;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=6ac09d01&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=6ac09d01&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ac09d01\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=style&index=0&id=3c92df78&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=6ac09d01&lang=less&scoped=true&\"","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotSearch.vue?vue&type=style&index=0&id=ee4c04e2&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchSuggest.vue?vue&type=style&index=0&id=c971fc6a&lang=less&scoped=true&\""],"sourceRoot":""}