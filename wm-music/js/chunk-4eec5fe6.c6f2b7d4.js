(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eec5fe6"],{1148:function(t,i,e){"use strict";var a=e("a691"),s=e("1d80");t.exports="".repeat||function(t){var i=String(s(this)),e="",n=a(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(i+=i))1&n&&(e+=i);return e}},"408a":function(t,i,e){var a=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},5970:function(t,i,e){"use strict";e("8f00")},"8f00":function(t,i,e){},a15b:function(t,i,e){"use strict";var a=e("23e7"),s=e("44ad"),n=e("fc6a"),o=e("a640"),l=[].join,r=s!=Object,c=o("join",",");a({target:"Array",proto:!0,forced:r||!c},{join:function(t){return l.call(n(this),void 0===t?",":t)}})},b680:function(t,i,e){"use strict";var a=e("23e7"),s=e("a691"),n=e("408a"),o=e("1148"),l=e("d039"),r=1..toFixed,c=Math.floor,u=function(t,i,e){return 0===i?e:i%2===1?u(t,i-1,e*t):u(t*t,i/2,e)},d=function(t){var i=0,e=t;while(e>=4096)i+=12,e/=4096;while(e>=2)i+=1,e/=2;return i},f=function(t,i,e){var a=-1,s=e;while(++a<6)s+=i*t[a],t[a]=s%1e7,s=c(s/1e7)},h=function(t,i){var e=6,a=0;while(--e>=0)a+=t[e],t[e]=c(a/i),a=a%i*1e7},p=function(t){var i=6,e="";while(--i>=0)if(""!==e||0===i||0!==t[i]){var a=String(t[i]);e=""===e?a:e+o.call("0",7-a.length)+a}return e},g=r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){r.call({})}));a({target:"Number",proto:!0,forced:g},{toFixed:function(t){var i,e,a,l,r=n(this),c=s(t),g=[0,0,0,0,0,0],m="",v="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return String(r);if(r<0&&(m="-",r=-r),r>1e-21)if(i=d(r*u(2,69,1))-69,e=i<0?r*u(2,-i,1):r/u(2,i,1),e*=4503599627370496,i=52-i,i>0){f(g,0,e),a=c;while(a>=7)f(g,1e7,0),a-=7;f(g,u(10,a,1),0),a=i-1;while(a>=23)h(g,1<<23),a-=23;h(g,1<<a),f(g,1,1),h(g,2),v=p(g)}else f(g,0,e),f(g,1<<-i,0),v=p(g)+o.call("0",c);return c>0?(l=v.length,v=m+(l<=c?"0."+o.call("0",c-l)+v:v.slice(0,l-c)+"."+v.slice(l-c))):v=m+v,v}})},fddd:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"playlist"},[t.playList?e("div",{staticClass:"listDetail"},[e("div",{staticClass:"top"},[e("span",{staticClass:"back iconfont icon-fanhui",on:{click:t.back}})]),e("div",{staticClass:"playImg",style:{backgroundImage:"url( "+t.playList.coverImgUrl+"?imageView=1&type=webp&thumbnail=369x0)"}}),e("div",{staticClass:"main"},[e("div",{staticClass:"left"},[e("img",{attrs:{src:t.playList.coverImgUrl+"?imageView=1&type=webp&thumbnail=369x0",alt:""}}),e("span",{staticClass:"icon"},[t._v("歌单")]),e("i",{staticClass:"num"},[t._v(t._s(t._f("formatNum")(t.playList.playCount))+"万")])]),e("div",{staticClass:"right"},[e("h2",[t._v(t._s(t.playList.name))]),e("div",{staticClass:"auth"},[e("img",{attrs:{src:t.playList.creator.avatarUrl,alt:""}}),t._v(" "+t._s(t.playList.creator.nickname)+" "),e("span",{staticClass:"like iconfont",class:[t.likeState?"icon-icon_xihuan":"icon-xihuan-tianjia"],on:{click:t.like}})]),e("div",{staticClass:"all iconfont iconquanbu",on:{click:function(i){return t.allPlay(t.songDetail)}}},[t._v(" 全部播放")]),e("div",{ref:"tips",staticClass:"tips"},[t._v("已经为您加入播放列表")])])])]):t._e(),e("div",{staticClass:"playSong"},[e("h3",{staticClass:"SongTitle"},[t._v("歌曲列表")]),t.songDetail.length>0?e("ul",{staticClass:"newsong"},t._l(t.songDetail,(function(i,a){return e("li",{key:a},[e("SongItem",{attrs:{item:i,isSQ:t.isSQ[a]}},[e("div",{staticClass:"musicIndex"},[t._v(t._s(a+1))])])],1)})),0):t._e(),t.isLoading?e("Loading"):t._e(),e("div",{staticClass:"loadMore"},[t._v(t._s(t.nomore?"数据全部加载完成":"正在加载..."))])],1)])},s=[],n=(e("b680"),e("159b"),e("fb6a"),e("d81d"),e("a15b"),e("a630"),e("3ca3"),e("6062"),e("d3b7"),e("ddb0"),e("a434"),e("cf7e")),o=e("3a5e"),l={data:function(){return{playList:null,listID:null,songDetail:[],isSQ:[],page:1,isLoading:!0,nomore:!1,likeState:null,songTotla:0}},filters:{formatNum:function(t){return(t/1e4).toFixed(1)}},created:function(){var t=this;this.listID=this.$route.params.id;var i=JSON.parse(window.localStorage.getItem("likePlayList"));i?(this.likeState=!1,i.forEach((function(i){if(i==t.listID)return t.likeState=!0,!1}))):this.likeState=!1,this.loadMusic(),window.addEventListener("scroll",this.handleScroll)},methods:{loadMusic:function(){var t=this;this.$http.get("/playlist/detail?id="+this.listID).then((function(i){t.songTotla=i.data.playlist.trackIds.length;var e=i.data.playlist.trackIds.slice(10*(t.page-1),10*t.page);t.playList=i.data.playlist;var a=e.map((function(t){return t.id}));return a.join(",")})).then((function(i){t.$http.get("/song/detail?ids="+i).then((function(i){t.isLoading=!1,i.data.privileges.map((function(i){return t.isSQ.push(i.playMaxbr),i})),i.data.songs.map((function(i){return i.song={artists:i.ar},t.songDetail.push(i),i}))}))})).catch((function(t){console.log(t)}))},handleScroll:function(){var t=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;if(t+document.documentElement.clientHeight==document.documentElement.scrollHeight){if(this.page++,this.page>Math.ceil(parseInt(this.songTotla)/10))return this.nomore=!0,!1;this.loadMusic(),this.isLoading=!0}},allPlay:function(t){var i=this;this.$root.musicStore.musicID=t[0].id,this.$root.musicStore.currentMusic=t[0],this.$root.musicStore.musicList=null,this.$root.musicStore.musicList=t,this.$refs.tips.style.display="block",setTimeout((function(){i.$refs.tips.style.display="none"}),500)},like:function(){this.likeState=!this.likeState;var t=JSON.parse(window.localStorage.getItem("likePlayList"));if(t)if(this.likeState)t.push(this.listID),t=Array.from(new Set(t));else{var i=t.indexOf(this.listID);t.splice(i,1)}else t=[],t.push(this.listID);window.localStorage.setItem("likePlayList",JSON.stringify(t))},back:function(){this.$router.go(-1)}},destroyed:function(){window.removeEventListener("scroll",this.handleScroll,!1)},components:{SongItem:n["a"],Loading:o["a"]}},r=l,c=(e("5970"),e("2877")),u=Object(c["a"])(r,a,s,!1,null,"b67f704a",null);i["default"]=u.exports}}]);
//# sourceMappingURL=chunk-4eec5fe6.c6f2b7d4.js.map